<p><b>Условие:</b><br/> Склонируйте заготовку проекта по <a href="https://github.com/VanderDT/Task-6" class="external-link" rel="nofollow noreferrer">ссылке</a>.<br/> На данном этапе начинается самое интересное: ваше приложение начнет получать запросы и возвращать ответы. Плюс к этому, мы создадим приложение, которое будет запускаться и управляться с помощью сервера Tomcat. IDE поможет работать с ним без сложных консольных команд, что сильно облегчит разработку.<br/> В этом приложении мы используем только зависимость spring-webmvc. Это не значит, что нам больше не нужны бины или контекст, в данном случае webmvc-фреймворк будет работать самостоятельно, так как любой фреймворк Спринга содержит в себе spring-core.<br/> В приложении появился новый пакет controller, в котором содержатся классы, держащие группы сервлетов - контроллеры. Данная технология позволит нам избежать создания большого количества сервлетов. Контроллеры содержат методы, которые маппятся на разные url и http-методы, заменяя собой класс сервлета с методами {{doGet, doPost }}и т.д.</p> <p><span class="image-wrap" style=""><img src="/rest/api/3/attachment/content/11132" width="100%" style="border: 0px solid black" /></span></p> <p>Для запуска приложения перейдите в Project Structure во вкладку Modules.<br/> Выберите модуль spring_mvc и нажмите “+”. Далее следует выбрать модуль Spring и IDEA сама подтянет класс-иницилайзер WebConfig, если это не произошло автоматически, то пропишите абсолютный путь на этот файл.<br/> Аналогично нужно создать модуль Web, но в этом случае путь должен ссылаться на папку webapp.</p> <p>Теперь обратимся к сборке проекта, в файл{{ pom.xml}}:</p> <p><span class="image-wrap" style=""><img src="/rest/api/3/attachment/content/11134" height="814" width="940" style="border: 0px solid black" /></span></p> <p>Для правильной интерпретации структуры проекта требуется указать следующие параметры:</p> <ol> <li>failOnMissingWebXml }}позволит нам запускать проект с помощью маппинга контроллерами, без использования конфигурации в {{{}web.xml.</li> <li>warSourceDirectory }}должен ссылаться на папку, содержащую{{ WEB-INF/</li> <li>В конфигурации maven-compiler-plugin явно нужно прописать версию Java.<br/> Для запуска перейдите в конфигурацию сервера:</li> </ol> <p><span class="image-wrap" style=""><img src="/rest/api/3/attachment/content/11135" height="101" width="428" style="border: 0px solid black" /></span></p> <p>Нажмите edit, затем плюс в левом верхнем углу и выберите Tomcat Server -&gt; Local Server.</p> <p><span class="image-wrap" style=""><img src="/rest/api/3/attachment/content/11133" height="1007" width="1040" style="border: 0px solid black" /></span></p> <p>Настройте запуск приложения на свободный порт, выберите дефолтный Tomcat, измените адрес, который будет вызван после запуска, на /, так как в нашем приложении для этой страницы есть контроллер.<br/> Далее следует настроить артефакт. Нажмите кнопку Fix, далее «+», выберите артефакт с именем “название проекта”-war exploded.<br/> После этого подтвердите изменения и запускайте приложение.<br/> Ваш браузер откроется автоматически и вы увидите страницу приветствия.</p> <p>Отдельное внимание стоит уделить тому, что в приложении нет метода main, его запуск происходит из-под Tomcat и для этого требуется отдельный класс AppInit, который ссылается на корневой конфигурационный файл и обозначает, на каком url будет находиться наше приложение.</p> <p><b>Задание:</b></p> <ol> <li>Создайте еще один контроллер, замаппленный на /cars.</li> <li>Создайте модель Car с тремя произвольными полями.</li> <li>Создайте список из 5 машин.</li> <li>Создайте сервис с методом, который будет возвращать указанное число машин из созданного списка.</li> <li>Создайте страницу cars.html. Реализуйте создание таблицы с машинами из сервиса с помощью thymeleaf.</li> <li>При запросе /cars выводить весь список. При запросе /cars?count=2 должен отобразиться список из 2 машин, при /cars?count=3 - из 3, и тд. При count ≥ 5 выводить весь список машин.</li> </ol>